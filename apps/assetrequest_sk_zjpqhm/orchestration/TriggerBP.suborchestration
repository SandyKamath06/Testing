{"flowVersion":"3.0.0","_type":"Flow","_value":{"id":{"_type":"String","_value":"9259649c526a4c90bb430ba13cc8ad9f"},"name":{"_type":"Identifier","_value":"TriggerBP"},"type":{"_type":"FlowType","_value":".maya.FlowSubflow"},"start":{"_type":"StartSubflow","_value":{"parameters":{"_type":["List","ExprParameter"],"_value":[{"_type":"ExprParameter","_value":{"name":{"_type":"Identifier","_value":"tenure"},"type":{"_type":"Type","_value":"Number"},"expr":{"_type":["Opt",["Expr",["Opt","Any"]]],"_value":null}}},{"_type":"ExprParameter","_value":{"name":{"_type":"Identifier","_value":"TenurePeriod"},"type":{"_type":"Type","_value":"String"},"expr":{"_type":["Opt",["Expr",["Opt","Any"]]],"_value":null}}}]},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}},"end":{"_type":"EndSubflow","_value":{"exports":{"_type":["List","Assignment"],"_value":[]},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}},"nodes":{"_type":["List","Node"],"_value":[{"_type":"CreateValues","_value":{"name":{"_type":"Identifier","_value":"CreateValues"},"isDisabled":{"_type":"Boolean","_value":false},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"values":{"_type":["List","Assignment"],"_value":[{"_type":"Assignment","_value":{"param":{"_type":"Parameter","_value":{"name":{"_type":"Identifier","_value":"query"},"type":{"_type":"Type","_value":"String"},"default":{"_type":["Opt","Any"],"_value":null}}},"expr":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"s\"\"\"${\"SELECT workdayID, firstName, hireDate FROM workersForHCMReporting (dataSourceFilter = allActiveWorkers) WHERE hireDate >= '\"}${date.now().minusDays(data.start.tenure)}${\"'\"}${\" AND hireDate <= '\"}${date.now().minusDays(data.start.tenure)}${\"'\"}\"\"\""},"isAuto":{"_type":"Boolean","_value":true}}}}}]},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}},{"_type":"SendWorkdayApiRequest","_value":{"name":{"_type":"Identifier","_value":"getHire"},"isDisabled":{"_type":"Boolean","_value":false},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"body":{"_type":["Opt","HttpBody"],"_value":null},"path":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"\"/wql/v1/data\""},"isAuto":{"_type":"Boolean","_value":false}}},"queryParams":{"_type":["List","QueryParam"],"_value":[{"_type":"QueryParam","_value":{"name":{"_type":"String","_value":"query"},"value":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"data.CreateValues.query.toString()"},"isAuto":{"_type":"Boolean","_value":false}}}}}]},"method":{"_type":"HttpMethod","_value":"GET"},"headers":{"_type":["List","Header"],"_value":[]},"auth":{"_type":"WorkdayCredentialRef","_value":{"resourceName":{"_type":"String","_value":"_DEFAULT_WORKDAY_CREDENTIAL"}}},"isChunked":{"_type":"Boolean","_value":false},"connectTimeoutMs":{"_type":"Long","_value":10000},"responseTimeoutMs":{"_type":"Long","_value":20000},"overallTimeoutMs":{"_type":"Long","_value":300000},"retryConfigRef":{"_type":"RetryConfigRef","_value":"_DEFAULT_WORKDAY_RETRY_CONFIG"},"tlsConfig":{"_type":["Opt","TlsConfig"],"_value":null},"proxyConfig":{"_type":["Opt","ProxyConfig"],"_value":null},"responseType":{"_type":"HttpResponseType","_value":"Any"},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}},{"_type":"SendIntegrationMessage","_value":{"name":{"_type":"Identifier","_value":"Daysmsg"},"isDisabled":{"_type":"Boolean","_value":false},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"severity":{"_type":"IntegrationMessageSeverity","_value":"INFO"},"summary":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"s\"${data.start.TenurePeriod}${\"Report Data\"}\""},"isAuto":{"_type":"Boolean","_value":false}}},"detail":{"_type":["Opt",["Expr","String"]],"_value":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"s\"\"\"${data.getHire.response.toString()}${chars.newline()}${data.CreateValues.query.toString()}\"\"\""},"isAuto":{"_type":"Boolean","_value":false}}}},"condition":{"_type":["Expr","Boolean"],"_value":{"type":{"_type":"Type","_value":"Boolean"},"source":{"_type":"String","_value":"true"},"isAuto":{"_type":"Boolean","_value":false}}},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}},{"_type":"Loop","_value":{"name":{"_type":"Identifier","_value":"Daysloop"},"isDisabled":{"_type":"Boolean","_value":false},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"inputData":{"_type":["Expr",["Iterator",["Opt","Any"]]],"_value":{"type":{"_type":"Type","_value":["Iterator",["Json",{"_type":["Opt","JsonSchemaRef"],"_value":null}]]},"source":{"_type":"String","_value":"data.getHire.response.asJSON().iterator(\"$.data[*]\")"},"isAuto":{"_type":"Boolean","_value":true}}},"filter":{"_type":["Opt",["Expr","Boolean"]],"_value":{"_type":["Expr","Boolean"],"_value":{"type":{"_type":"Type","_value":"Boolean"},"source":{"_type":"String","_value":"data.getHire.response.asJSON().numberAtJsonPath(\"$.total\").equals(0).not()"},"isAuto":{"_type":"Boolean","_value":false}}}},"aggregateNode":{"_type":["Opt","Aggregate"],"_value":null},"earlyStopCondition":{"_type":["Opt","EarlyStopCondition"],"_value":null},"sorts":{"_type":["List","SortedBy"],"_value":[]},"locale":{"_type":["Opt","Locale"],"_value":null},"group":{"_type":"ImplicitGroup","_value":{"name":{"_type":"Identifier","_value":"_group_Daysloop"},"isDisabled":{"_type":"Boolean","_value":false},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"nodes":{"_type":["List","Node"],"_value":[{"_type":"CreateValues","_value":{"name":{"_type":"Identifier","_value":"DaysValues"},"isDisabled":{"_type":"Boolean","_value":false},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"values":{"_type":["List","Assignment"],"_value":[{"_type":"Assignment","_value":{"param":{"_type":"Parameter","_value":{"name":{"_type":"Identifier","_value":"id"},"type":{"_type":"Type","_value":"String"},"default":{"_type":["Opt","Any"],"_value":null}}},"expr":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"data.Daysloop.item.asJSON().stringAtJsonPath(\"$.workdayID\")"},"isAuto":{"_type":"Boolean","_value":true}}}}},{"_type":"Assignment","_value":{"param":{"_type":"Parameter","_value":{"name":{"_type":"Identifier","_value":"date"},"type":{"_type":"Type","_value":"Date"},"default":{"_type":["Opt","Any"],"_value":null}}},"expr":{"_type":["Expr","Date"],"_value":{"type":{"_type":"Type","_value":"Date"},"source":{"_type":"String","_value":"date.now()"},"isAuto":{"_type":"Boolean","_value":true}}}}}]},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}},{"_type":"CreateTextTemplate","_value":{"name":{"_type":"Identifier","_value":"Dayspayload"},"isDisabled":{"_type":"Boolean","_value":false},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"message":{"_type":"TextTemplate","_value":"{\r\n    \"worker\":{\r\n        \"id\": \"{{data.DaysValues.id}}\"\r\n    },\r\n    \"tenure\": \"{{data.start.TenurePeriod}}\",\r\n    \"date\": \"{{data.DaysValues.date}}\"\r\n}"},"contentType":{"_type":"String","_value":"application/json"},"formatRef":{"_type":["Opt","TextFormatRef"],"_value":null},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}},{"_type":"SendWorkdayApiRequest","_value":{"name":{"_type":"Identifier","_value":"DaysPost"},"isDisabled":{"_type":"Boolean","_value":false},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"body":{"_type":["Opt","DataRefBody"],"_value":{"_type":"DataRefBody","_value":{"dataRef":{"_type":["Expr","Data"],"_value":{"type":{"_type":"Type","_value":"Data"},"source":{"_type":"String","_value":"data.Dayspayload.message"},"isAuto":{"_type":"Boolean","_value":false}}},"contentType":{"_type":["Opt","String"],"_value":null}}}},"path":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"\"/apps/assetrequest_sk_zjpqhm/v1/surveyData\""},"isAuto":{"_type":"Boolean","_value":false}}},"queryParams":{"_type":["List","QueryParam"],"_value":[]},"method":{"_type":"HttpMethod","_value":"POST"},"headers":{"_type":["List","Header"],"_value":[]},"auth":{"_type":"WorkdayCredentialRef","_value":{"resourceName":{"_type":"String","_value":"_DEFAULT_WORKDAY_CREDENTIAL"}}},"isChunked":{"_type":"Boolean","_value":false},"connectTimeoutMs":{"_type":"Long","_value":10000},"responseTimeoutMs":{"_type":"Long","_value":20000},"overallTimeoutMs":{"_type":"Long","_value":300000},"retryConfigRef":{"_type":"RetryConfigRef","_value":"_DEFAULT_WORKDAY_RETRY_CONFIG"},"tlsConfig":{"_type":["Opt","TlsConfig"],"_value":null},"proxyConfig":{"_type":["Opt","ProxyConfig"],"_value":null},"responseType":{"_type":"HttpResponseType","_value":"Any"},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}},{"_type":"CreateValues","_value":{"name":{"_type":"Identifier","_value":"PostID"},"isDisabled":{"_type":"Boolean","_value":false},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"values":{"_type":["List","Assignment"],"_value":[{"_type":"Assignment","_value":{"param":{"_type":"Parameter","_value":{"name":{"_type":"Identifier","_value":"bpid"},"type":{"_type":"Type","_value":"String"},"default":{"_type":["Opt","Any"],"_value":null}}},"expr":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"data.DaysPost.response.asJSON().stringAtJsonPath(\"$.id\")"},"isAuto":{"_type":"Boolean","_value":true}}}}}]},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}},{"_type":"SendWorkdayApiRequest","_value":{"name":{"_type":"Identifier","_value":"DaysBPPost"},"isDisabled":{"_type":"Boolean","_value":false},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"body":{"_type":["Opt","CreateTextTemplateBody"],"_value":{"_type":"CreateTextTemplateBody","_value":{"message":{"_type":"TextTemplate","_value":"{\r\n    \"businessProcessTarget\": {\r\n        \"id\": \"{{data.PostID.bpid}}\"\r\n        }\r\n\r\n}"},"contentType":{"_type":"String","_value":"application/json"}}}},"path":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"\"/apps/assetrequest_sk_zjpqhm/v1/newHireQuestionnaireEvents\""},"isAuto":{"_type":"Boolean","_value":false}}},"queryParams":{"_type":["List","QueryParam"],"_value":[]},"method":{"_type":"HttpMethod","_value":"POST"},"headers":{"_type":["List","Header"],"_value":[]},"auth":{"_type":"WorkdayCredentialRef","_value":{"resourceName":{"_type":"String","_value":"_DEFAULT_WORKDAY_CREDENTIAL"}}},"isChunked":{"_type":"Boolean","_value":false},"connectTimeoutMs":{"_type":"Long","_value":10000},"responseTimeoutMs":{"_type":"Long","_value":20000},"overallTimeoutMs":{"_type":"Long","_value":300000},"retryConfigRef":{"_type":"RetryConfigRef","_value":"_DEFAULT_WORKDAY_RETRY_CONFIG"},"tlsConfig":{"_type":["Opt","TlsConfig"],"_value":null},"proxyConfig":{"_type":["Opt","ProxyConfig"],"_value":null},"responseType":{"_type":"HttpResponseType","_value":"Any"},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}},{"_type":"SendIntegrationMessage","_value":{"name":{"_type":"Identifier","_value":"DaysBPmsg"},"isDisabled":{"_type":"Boolean","_value":false},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"severity":{"_type":"IntegrationMessageSeverity","_value":"INFO"},"summary":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"s\"\"\"${data.start.TenurePeriod}${data.Daysloop.item.asJSON().stringAtJsonPath(\"$.firstName\")}${\" Questionnaire is triggered\"}\"\"\""},"isAuto":{"_type":"Boolean","_value":false}}},"detail":{"_type":["Opt",["Expr","String"]],"_value":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"s\"\"\"${data.DaysPost.response}${data.DaysBPPost.response}\"\"\""},"isAuto":{"_type":"Boolean","_value":false}}}},"condition":{"_type":["Expr","Boolean"],"_value":{"type":{"_type":"Type","_value":"Boolean"},"source":{"_type":"String","_value":"true"},"isAuto":{"_type":"Boolean","_value":false}}},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}}]},"notes":{"_type":["List","Note"],"_value":[]}}},"notes":{"_type":["List","Note"],"_value":[{"_type":"Note","_value":{"key":{"_type":"String","_value":"description"},"value":{"_type":"String","_value":""}}}]}}}]},"notes":{"_type":["List","Note"],"_value":[]},"resources":{"_type":"ResourceProvider","_value":{"fileLikeResources":{"_type":["Map","Resource"],"_value":{}},"credentials":{"_type":["Map","Credential"],"_value":{}},"xmlNamespaces":{"_type":["Map","String"],"_value":{}},"retryConfigs":{"_type":["Map",["WithNotes","RetryConfig"]],"_value":{}},"csvFormats":{"_type":["Map","CsvFormat"],"_value":{}},"pollingConfigs":{"_type":["Map","PollingConfig"],"_value":{}}}},"defaultWorkdayCredentialRef":{"_type":["Opt","AccessTokenFromInitiatingUser"],"_value":{"_type":"AccessTokenFromInitiatingUser","_value":"AccessTokenFromInitiatingUser"}},"mayaVersion":{"_type":"String","_value":"1.3689.0"},"errorHandler":{"_type":["Opt","ErrorHandler"],"_value":null},"cancelBarrier":{"_type":["Opt","Identifier"],"_value":null},"defaultLocale":{"_type":"Locale","_value":{"value":{"_type":["Expr","String"],"_value":{"type":{"_type":"Type","_value":"String"},"source":{"_type":"String","_value":"\"\"\"en_US\"\"\""},"isAuto":{"_type":"Boolean","_value":false}}}}},"securityDomains":{"_type":["Opt",["List","String"]],"_value":null}}}